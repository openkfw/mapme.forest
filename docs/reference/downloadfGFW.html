<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Download GFW and CO2-Emission data — downloadfGFW • mapme.forest</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Download GFW and CO2-Emission data — downloadfGFW" />
<meta property="og:description" content="This function downloads the necessary Global Forest Watch and CO2 Emission
 data for a given shapefile. The shapefile is transformed to its bounding
 box, projected to its central UTM Zone and a buffer is applied. The default
 buffer size is 5000 meteres, but it can be changes by the user. It uses
 gdal system calls to speed up the process. The raw files by default will be
 deleted, but they also can be kept on the disk. Note, the CO2 emission data
 is only available roughly between 30N and 30S and the function will fail if
 your input shapfiles extent plus buffer is extending beyond those limits.
 This function relies heavily on code published at https://github.com/azvoleff/gfcanalysis." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mapme.forest</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/GFW.html">01 Download &amp; Preprocessing</a>
    </li>
    <li>
      <a href="../articles/area_stats.html">02 Area Statistics</a>
    </li>
    <li>
      <a href="../articles/big_data.html">04 Big Data Analysis</a>
    </li>
    <li>
      <a href="../articles/frag_stats.html">03 Fragmentation Statistics</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Download GFW and CO2-Emission data</h1>
    
    <div class="hidden name"><code>downloadfGFW.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function downloads the necessary Global Forest Watch and CO2 Emission
 data for a given shapefile. The shapefile is transformed to its bounding
 box, projected to its central UTM Zone and a buffer is applied. The default
 buffer size is 5000 meteres, but it can be changes by the user. It uses
 gdal system calls to speed up the process. The raw files by default will be
 deleted, but they also can be kept on the disk. Note, the CO2 emission data
 is only available roughly between 30N and 30S and the function will fail if
 your input shapfiles extent plus buffer is extending beyond those limits.
 This function relies heavily on code published at https://github.com/azvoleff/gfcanalysis.</p>
    </div>

    <pre class="usage"><span class='fu'>downloadfGFW</span><span class='op'>(</span>
  <span class='va'>shape</span>,
  dataset <span class='op'>=</span> <span class='st'>"GFC-2018-v1.6"</span>,
  basename <span class='op'>=</span> <span class='st'>"Hansen_1.6"</span>,
  outdir <span class='op'>=</span> <span class='st'>"."</span>,
  keepTmpFiles <span class='op'>=</span> <span class='cn'>F</span>,
  .tmpdir <span class='op'>=</span> <span class='st'>"./.tmp/"</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>shape</th>
      <td><p>A <code>sfObject</code> determining the extent for which to get the GFW data.</p></td>
    </tr>
    <tr>
      <th>dataset</th>
      <td><p>A <code>charachter</code> specifiying the version of the GFW data to extract.
Defaults to version 1.6 from 2018. The newer version can be downloaded when
you specify <code>dataset = "GFW-2019-v1.7"</code>.</p></td>
    </tr>
    <tr>
      <th>basename</th>
      <td><p>A <code>charachter</code> which will be added to the resulting
file names.</p></td>
    </tr>
    <tr>
      <th>outdir</th>
      <td><p>A <code>charachter</code> for a local directory for the final outputs.
If it is not existing it will be created without a message. Defaults to the
current working directory.</p></td>
    </tr>
    <tr>
      <th>keepTmpFiles</th>
      <td><p>A <code>logical</code> indicating if the raw tiles should be kept in
the <code>tmpdir</code> directory. It defaults to <code>FALSE</code>, which usually makes sense.
However, if you apply a number of analysis for different extents but there might
be overlaps, it could be useful to keep the downloaded files on your machine.
The function will only download the necessary data if it is not alread present
in the <code>tmpdir</code>.</p></td>
    </tr>
    <tr>
      <th>.tmpdir</th>
      <td><p>A <code>charachter</code> indicating a directory where to download
the raw tiles to. It defaults to a hidden folder called <code>.tmp</code> in the
current working directory, but can be set by the user. If the directory does
not exist on your machine it will be created without a message.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A <code>vector</code> of type <code>charachter</code> with all the files matching
 the <code>basename</code> pattern in the <code>outdir</code> directory.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>This function depends on available gdal binaries on your system. Make sure they
  are available as environment variables on your machine or use our docker image instead.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Darius Görgen, Dr. Fabian Löw (MapTailor Geospatial Consulting GbR) <a href='mailto:info@maptailor.net'>info@maptailor.net</a>
<br />
<em>Maintainer:</em> KfW FZ Evaluierung <a href='mailto:FZ-Evaluierung@kfw.de'>FZ-Evaluierung@kfw.de</a>
<br />
<em>Contact Person:</em> Dr. Johannes Schielein
<br />
<em>Copyright:</em> KfW Bankengruppe
<br />
<em>License:</em> GPL-3</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='va'>aoi</span> <span class='op'>=</span> <span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_read.html'>st_read</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"extdata"</span>, <span class='st'>"aoi_polys.gpkg"</span>, package <span class='op'>=</span> <span class='st'>"mapme.forest"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>raster_files</span> <span class='op'>=</span> <span class='fu'>downloadfGFW</span><span class='op'>(</span>shape <span class='op'>=</span> <span class='va'>aoi</span>,
                            basename <span class='op'>=</span> <span class='st'>"pkgTest"</span>,
                            outdir <span class='op'>=</span> <span class='st'>"./data/"</span>,
                            keepTmpFiles <span class='op'>=</span> <span class='cn'>T</span>,
                            .tmpdir <span class='op'>=</span> <span class='st'>"./data/tmp"</span><span class='op'>)</span>

<span class='co'># resulting rasters are not automatically cropped to the extent of aoi</span>
<span class='va'>rasters</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/raster/man/stack.html'>stack</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>lapply</a></span><span class='op'>(</span><span class='va'>raster_files</span>, <span class='kw'>function</span><span class='op'>(</span><span class='va'>f</span><span class='op'>)</span><span class='op'>{</span>
<span class='va'>f</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/raster/man/brick.html'>brick</a></span><span class='op'>(</span><span class='va'>f</span><span class='op'>)</span>
<span class='va'>f</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/raster/man/crop.html'>crop</a></span><span class='op'>(</span><span class='va'>f</span>, <span class='va'>aoi</span><span class='op'>)</span>
<span class='op'>}</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>}</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by KfW Bankengruppe, Darius Görgen, Fabian Löw.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


