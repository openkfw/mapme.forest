<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>03 Fragmentation Statistics • mapme.forest</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="03 Fragmentation Statistics">
<meta property="og:description" content="mapme.forest">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mapme.forest</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/GFW.html">01 Download &amp; Preprocessing</a>
    </li>
    <li>
      <a href="../articles/area_stats.html">02 Area Statistics</a>
    </li>
    <li>
      <a href="../articles/big_data.html">04 Big Data Analysis</a>
    </li>
    <li>
      <a href="../articles/frag_stats.html">03 Fragmentation Statistics</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="frag_stats_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="frag_stats_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="frag_stats_files/anchor-sections-1.0/anchor-sections.js"></script><script src="frag_stats_files/htmlwidgets-1.5.2/htmlwidgets.js"></script><script src="frag_stats_files/plotly-binding-4.9.2.1/plotly.js"></script><script src="frag_stats_files/typedarray-0.1/typedarray.min.js"></script><script src="frag_stats_files/jquery-1.12.4/jquery.min.js"></script><link href="frag_stats_files/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet">
<script src="frag_stats_files/crosstalk-1.1.0.1/js/crosstalk.min.js"></script><link href="frag_stats_files/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet">
<script src="frag_stats_files/plotly-main-1.52.2/plotly-latest.min.js"></script><link href="frag_stats_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="frag_stats_files/leaflet-1.3.1/leaflet.js"></script><link href="frag_stats_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="frag_stats_files/Proj4Leaflet-1.0.1/proj4-compressed.js"></script><script src="frag_stats_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="frag_stats_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="frag_stats_files/leaflet-binding-2.0.3/leaflet.js"></script><script src="frag_stats_files/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script><script src="frag_stats_files/leaflet-providers-plugin-2.0.3/leaflet-providers-plugin.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>03 Fragmentation Statistics</h1>
                        <h4 class="author">Darius Görgen</h4>
            
            <h4 class="date">2020-12-11</h4>
      
      
      <div class="hidden name"><code>frag_stats.Rmd</code></div>

    </div>

    
    
<div id="fragmentation-indicators" class="section level2">
<h2 class="hasAnchor">
<a href="#fragmentation-indicators" class="anchor"></a>Fragmentation Indicators</h2>
<p>Fragmentation statistics area calculated based on the package <code>SDMTools</code> which itself is based on FRAGSTATS (McGarigal et al. 2012). We implemented support for the following indicators:</p>
<p><strong>Available Fragmentation Statistics</strong></p>
<table class="table">
<colgroup>
<col width="27%">
<col width="72%">
</colgroup>
<thead><tr class="header">
<th><strong>Name</strong></th>
<th><strong>Explanation</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>n.patches</td>
<td>the number of patches of a particular patch type or in a class.</td>
</tr>
<tr class="even">
<td>total.area</td>
<td>the sum of the areas (m2) of all patches of the corresponding patch type.</td>
</tr>
<tr class="odd">
<td>prop.landscape</td>
<td>the proportion of the total lanscape represented by this class</td>
</tr>
<tr class="even">
<td>patch.density</td>
<td>the numbers of patches of the corresponding patch type divided by total landscape area (m2).</td>
</tr>
<tr class="odd">
<td>total.edge</td>
<td>the total edge length of a particular patch type.</td>
</tr>
<tr class="even">
<td>edge.density</td>
<td>edge length on a per unit area basis that facilitates comparison among landscapes of varying size.</td>
</tr>
<tr class="odd">
<td>mean.patch.area</td>
<td>average area of patches.</td>
</tr>
<tr class="even">
<td>mean.frac.dim.index</td>
<td>mean of fractal dimension index.</td>
</tr>
<tr class="odd">
<td>lanscape.division.index</td>
<td>based on the cumulative patch area distribution and is interpreted as the probability that two randomly chosen pixels in the landscape are not situated in the same patch</td>
</tr>
<tr class="even">
<td>patch.cohesion.index</td>
<td>measures the physical connectedness of the corresponding patch type.</td>
</tr>
<tr class="odd">
<td>landscape.shape.index</td>
<td>a standardized measure of total edge or edge density that adjusts for the size of the landscape.</td>
</tr>
<tr class="even">
<td>largest.patch.index</td>
<td>largest patch index quantifies the percentage of total landscape area comprised by the largest patch.</td>
</tr>
<tr class="odd">
<td>sd.patch.area</td>
<td>standard deviation of patch areas.</td>
</tr>
<tr class="even">
<td>min.patch.area</td>
<td>the minimum patch area of the total patch areas.</td>
</tr>
<tr class="odd">
<td>max.patch.area</td>
<td>the maximum patch area of the total patch areas.</td>
</tr>
<tr class="even">
<td>perimeter.area.frac.dim</td>
<td>perimeter-area fractal dimension equals 2 divided by the slope of regression line obtained by regressing the logarithm of patch area (m2) against the logarithm of patch perimeter (m).</td>
</tr>
<tr class="odd">
<td>mean.perim.area.ratio</td>
<td>the mean of the ratio patch perimeter. The perimeter-area ratio is equal to the ratio of the patch perimeter (m) to area (m2).</td>
</tr>
<tr class="even">
<td>sd.perim.area.ratio</td>
<td>standard deviation of the ratio patch perimeter.</td>
</tr>
<tr class="odd">
<td>max.perim.area.ratio</td>
<td>maximum perimeter area ratio.</td>
</tr>
<tr class="even">
<td>mean.shape.index</td>
<td>mean of shape index</td>
</tr>
<tr class="odd">
<td>sd.shape.index</td>
<td>standard deviation of shape index.</td>
</tr>
<tr class="even">
<td>min.shape.index</td>
<td>the minimum shape index.</td>
</tr>
<tr class="odd">
<td>max.shape.index</td>
<td>the maximum shape index.</td>
</tr>
<tr class="even">
<td>sd.frac.dim.index</td>
<td>tandard deviation of fractal dimension index.</td>
</tr>
<tr class="odd">
<td>min.frac.dim.index</td>
<td>the minimum fractal dimension index.</td>
</tr>
<tr class="even">
<td>max.frac.dim.index</td>
<td>the maximum fractal dimension index.</td>
</tr>
<tr class="odd">
<td>total.core.area</td>
<td>the sum of the core areas of the patches (m2).</td>
</tr>
<tr class="even">
<td>prop.landscape.core</td>
<td>proportional landscape core</td>
</tr>
<tr class="odd">
<td>mean.patch.core.area</td>
<td>mean patch core area.</td>
</tr>
<tr class="even">
<td>sd.patch.core.area</td>
<td>standard deviation of patch core area.</td>
</tr>
<tr class="odd">
<td>min.patch.core.area</td>
<td>the minimum patch core area.</td>
</tr>
<tr class="even">
<td>max.patch.core.area</td>
<td>the maximum patch core area.</td>
</tr>
<tr class="odd">
<td>prop.like.adjacencies</td>
<td>calculated from the adjacency matrix, which shows the frequency with which different pairs of patch types (including like adjacencies between the same patch type) appear side-by-side on the map (measures the degree of aggregation of patch types).</td>
</tr>
<tr class="even">
<td>aggregation.index</td>
<td>computed simply as an area-weighted mean class aggregation index, where each class is weighted by its proportional area in the landscape.</td>
</tr>
<tr class="odd">
<td>splitting.index</td>
<td>based on the cumulative patch area distribution and is interpreted as the effective mesh number, or number of patches with a constant patch size when the landscape is subdivided into S patches, where S is the value of the splitting index.</td>
</tr>
<tr class="even">
<td>effective.mesh.size</td>
<td>equals 1 divided by the total landscape area (m2) multiplied by the sum of patch area (m2) squared, summed across all patches in the landscape.</td>
</tr>
</tbody>
</table>
</div>
<div id="calculation-of-fragmentation-indicators" class="section level2">
<h2 class="hasAnchor">
<a href="#calculation-of-fragmentation-indicators" class="anchor"></a>Calculation of Fragmentation Indicators</h2>
<p>Each of these indicators is calculated for a given polygon based on the underlying distribution of pixels in a binary forest mask. For this reason, we can easily use the functionality explained in previous vignettes to calculate fragmentation statistics. First, let us read in our data and calculate yearly binary forest cover maps.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># reading data</span>
<span class="va">treeCover</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/raster.html">raster</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"pkgTest_treecover2000.tif"</span>, package <span class="op">=</span> <span class="st">"mapme.forest"</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/raster/man/names.html">names</a></span><span class="op">(</span><span class="va">treeCover</span><span class="op">)</span> <span class="op">=</span> <span class="st">"tree.cover"</span>
<span class="va">lossYear</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/raster.html">raster</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"pkgTest_lossyear.tif"</span>, package <span class="op">=</span> <span class="st">"mapme.forest"</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/raster/man/names.html">names</a></span><span class="op">(</span><span class="va">lossYear</span><span class="op">)</span> <span class="op">=</span> <span class="st">"loss.year"</span>

<span class="co"># applying preprocessing</span>
<span class="va">treeCover_binary</span> <span class="op">=</span> <span class="fu"><a href="../reference/prepTC.html">prepTC</a></span><span class="op">(</span><span class="va">treeCover</span>,
                          thresholdClump <span class="op">=</span> <span class="fl">10</span>,
                          thresholdCover <span class="op">=</span> <span class="fl">50</span><span class="op">)</span>
<span class="va">treeCover_yearly</span> <span class="op">=</span> <span class="fu"><a href="../reference/getTM.html">getTM</a></span><span class="op">(</span><span class="va">treeCover_binary</span>,
                         <span class="va">lossYear</span>,
                         <span class="fl">2000</span><span class="op">:</span><span class="fl">2018</span><span class="op">)</span>

<span class="co"># applying minimal mapping unit for the yearly layers</span>
<span class="va">treeCover_yearly</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/stack.html">stack</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/nlayers.html">nlayers</a></span><span class="op">(</span><span class="va">treeCover_yearly</span><span class="op">)</span>, <span class="kw">function</span><span class="op">(</span><span class="va">l</span><span class="op">)</span><span class="op">{</span>
  <span class="va">treeCover_yearly</span><span class="op">[[</span><span class="va">l</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="fu"><a href="../reference/prepTC.html">prepTC</a></span><span class="op">(</span><span class="va">treeCover_yearly</span><span class="op">[[</span><span class="va">l</span><span class="op">]</span><span class="op">]</span>, thresholdClump <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>
<span class="op">}</span><span class="op">)</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/pkg/raster/man/names.html">names</a></span><span class="op">(</span><span class="va">treeCover_yearly</span><span class="op">)</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"y"</span>, <span class="fl">2000</span><span class="op">:</span><span class="fl">2018</span>, sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span>

<span class="co"># plotting only first and last layer</span>
<span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span><span class="va">treeCover_yearly</span><span class="op">[[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">19</span><span class="op">)</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<p><img src="frag_stats_files/figure-html/read_data-1.png" width="700"></p>
<p>In case you have read the [vignette on areal statistics](vignette(“area_stats”) you should be already familiar with the above code. If not, please read it before continuing to read about the fragmentation statistics.</p>
<p>In the plot above we can already see that our area of interest is characterized by heavy tree cover losses during the last two decades. We should be able to catch this dynamic in our fragmentation statistics as well, since the forest area becomes smaller and more patchy with the time possibly altering the landscape statistics as well.</p>
<p>To calculate fragmentation statistics we developed a routine called <code><a href="../reference/FragStatsCalc.html">FragStatsCalc()</a></code>. We can either calculate selected indicators from the table above by specifying them in a character vector called <code>FragStats</code> or we simply calculate all indicators by specifying <code>FragStats = "all"</code> which conveniently also is the default setting.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># read in polygons to extract fragmentation statistics for</span>
<span class="va">aoi</span> <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html">st_read</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"aoi_polys.gpkg"</span>, package <span class="op">=</span> <span class="st">"mapme.forest"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## Reading layer `aoi_polys' from data source `/tmp/Rtmpnid9N6/temp_libpathc482fd6cf35/mapme.forest/extdata/aoi_polys.gpkg' using driver `GPKG'
## Simple feature collection with 8 features and 1 field
## geometry type:  POLYGON
## dimension:      XY
## bbox:           xmin: 107.1291 ymin: 16.59741 xmax: 107.2502 ymax: 16.6916
## geographic CRS: WGS 84</code></pre>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">frag_statistics</span> <span class="op">=</span> <span class="fu"><a href="../reference/FragStatsCalc.html">FragStatsCalc</a></span><span class="op">(</span>inputRasterFiles <span class="op">=</span> <span class="va">treeCover_yearly</span>, 
                                latlon <span class="op">=</span> <span class="cn">T</span>, 
                                polyName <span class="op">=</span> <span class="st">"id"</span>, 
                                studysite <span class="op">=</span> <span class="va">aoi</span>, 
                                FragStats <span class="op">=</span> <span class="st">"all"</span>, 
                                ncores <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Number of rows: "</span>, <span class="fu"><a href="https://rdrr.io/pkg/raster/man/ncell.html">nrow</a></span><span class="op">(</span><span class="va">frag_statistics</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## Number of rows:  8</code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Number of columns: "</span>,<span class="fu"><a href="https://rdrr.io/pkg/raster/man/ncell.html">ncol</a></span><span class="op">(</span><span class="va">frag_statistics</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## Number of columns:  794</code></pre>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">frag_statistics</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html">grep</a></span><span class="op">(</span><span class="st">"patch.density"</span>, <span class="fu"><a href="https://rdrr.io/pkg/raster/man/names.html">names</a></span><span class="op">(</span><span class="va">frag_statistics</span><span class="op">)</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<pre><code>## Classes 'sf' and 'data.frame':   8 obs. of  23 variables:
##  $ patch.density_Dif  : num  -1.26e-06 -2.13e-07 -8.42e-07 2.27e-07 -1.73e-07 ...
##  $ patch.density_Sig  : num  0.55941 0.035533 0.007614 0.009046 0.000214 ...
##  $ patch.density_Slope: num  0.00 9.67e-08 1.68e-07 4.53e-08 3.03e-07 ...
##  $ patch.density_y2000: num  1.26e-06 8.51e-07 1.68e-06 1.59e-06 5.20e-07 ...
##  $ patch.density_y2001: num  2.51e-06 8.51e-07 2.74e-06 4.30e-06 5.20e-07 ...
##  $ patch.density_y2002: num  2.51e-06 8.51e-07 2.74e-06 4.30e-06 6.94e-07 ...
##  $ patch.density_y2003: num  2.51e-06 8.51e-07 2.74e-06 4.30e-06 6.94e-07 ...
##  $ patch.density_y2004: num  2.51e-06 8.51e-07 2.95e-06 4.30e-06 6.94e-07 ...
##  $ patch.density_y2005: num  2.51e-06 8.51e-07 3.16e-06 4.53e-06 1.73e-06 ...
##  $ patch.density_y2006: num  2.51e-06 8.51e-07 3.58e-06 4.53e-06 1.73e-06 ...
##  $ patch.density_y2007: num  5.02e-06 8.51e-07 3.58e-06 4.53e-06 1.73e-06 ...
##  $ patch.density_y2008: num  8.79e-06 1.06e-06 4.00e-06 4.53e-06 1.73e-06 ...
##  $ patch.density_y2009: num  8.79e-06 1.06e-06 4.00e-06 4.53e-06 2.08e-06 ...
##  $ patch.density_y2010: num  7.54e-06 3.19e-06 4.21e-06 4.53e-06 2.95e-06 ...
##  $ patch.density_y2011: num  7.54e-06 4.04e-06 4.84e-06 4.30e-06 3.64e-06 ...
##  $ patch.density_y2012: num  7.54e-06 4.47e-06 4.63e-06 6.34e-06 4.33e-06 ...
##  $ patch.density_y2013: num  7.54e-06 4.89e-06 4.84e-06 6.57e-06 4.85e-06 ...
##  $ patch.density_y2014: num  7.54e-06 4.68e-06 5.05e-06 7.48e-06 4.85e-06 ...
##  $ patch.density_y2015: num  2.51e-06 4.25e-06 4.21e-06 6.12e-06 6.07e-06 ...
##  $ patch.density_y2016: num  0.00 3.19e-06 3.37e-06 5.89e-06 5.38e-06 ...
##  $ patch.density_y2017: num  0.00 1.91e-06 3.37e-06 4.08e-06 2.77e-06 ...
##  $ patch.density_y2018: num  0.00 6.38e-07 8.42e-07 1.81e-06 3.47e-07 ...
##  $ geometry           :sfc_POLYGON of length 8; first list element: List of 1
##   ..$ : num [1:5, 1:2] 107 107 107 107 107 ...
##   ..- attr(*, "class")= chr  "XY" "POLYGON" "sfg"
##  - attr(*, "sf_column")= chr "geometry"
##  - attr(*, "agr")= Factor w/ 3 levels "constant","aggregate",..: NA NA NA NA NA NA NA NA NA NA ...
##   ..- attr(*, "names")= chr  "patch.density_Dif" "patch.density_Sig" "patch.density_Slope" "patch.density_y2000" ...</code></pre>
<p>With the above code we calculated all available fragmentation indicators for our eight polygons. The resulting <code>frag_statistics</code> object basically the same <code>sf</code>-object called <code>aoi</code> only with its dataframe amended by 792 variables. We printed the structure of all variables matching the pattern <code>patch.density</code> above. As you can see, the first three parameters are not associated with a year. These parameters are the trend values with <code>Dif</code> representing the difference between the first and last observation (between 2000 and 2018 in the present case), <code>Sig</code> representing the significance and <code>Slope</code> the slope of the sens-slope-trend calculation (click <a href="https://www.rdocumentation.org/packages/trend/versions/1.1.2/topics/sens.slope">here</a> to learn more about the algorithm behind the sens slope). After these parameters, the values for each specific year are shown. Not that each of the numeric vectors is of length eight, each representing one of the polygons of the <code>aoi</code> object.</p>
</div>
<div id="non-spatial-visualization" class="section level2">
<h2 class="hasAnchor">
<a href="#non-spatial-visualization" class="anchor"></a>Non-Spatial Visualization</h2>
<p>Now let us plot the dynamic of some selected indicators over time from 2000 to 2018. We choose the number of patches, the average patch area and the total edge length for visualization. We will not discuss the trend statistics here, so we will drop them from out target data frame. Before handing the data to <code>ggplot2</code> we need to reshape the data from a wide representation to a long representation (see <a href="http://www.cookbook-r.com/Manipulating_data/Converting_data_between_wide_and_long_format/">here</a> for a more thorough discussion of reshaping R dataframes).</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># select target variables</span>
<span class="va">target_variables</span> <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html">st_drop_geometry</a></span><span class="op">(</span><span class="va">frag_statistics</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html">grep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"id"</span>, <span class="st">"n.patches"</span>, <span class="st">"total.edge"</span>, <span class="st">"mean.patch.area"</span>, sep<span class="op">=</span><span class="st">"|"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/pkg/raster/man/names.html">names</a></span><span class="op">(</span><span class="va">frag_statistics</span><span class="op">)</span><span class="op">)</span><span class="op">]</span><span class="op">)</span>
<span class="co"># drop unneeded variables</span>
<span class="va">target_variables</span> <span class="op">=</span> <span class="va">target_variables</span><span class="op">[</span>,<span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html">grep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"Dif"</span>, <span class="st">"Sig"</span>, <span class="st">"Slope"</span>, sep<span class="op">=</span><span class="st">"|"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/pkg/raster/man/names.html">names</a></span><span class="op">(</span><span class="va">target_variables</span><span class="op">)</span><span class="op">)</span><span class="op">]</span>
<span class="co"># reshape and plot with dplyr syntax and pipe operator</span>
<span class="va">plt</span> <span class="op">=</span> <span class="va">target_variables</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/gather.html">gather</a></span><span class="op">(</span><span class="st">"year"</span>, <span class="st">"value"</span>, <span class="op">-</span><span class="va">id</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/separate.html">separate</a></span><span class="op">(</span><span class="va">year</span>, into <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"var"</span>,<span class="st">"year"</span><span class="op">)</span>, <span class="st">"_"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/factor.html">as.factor</a></span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_sub.html">str_sub</a></span><span class="op">(</span><span class="va">year</span>, <span class="op">-</span><span class="fl">4</span>, <span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span>,
         id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/factor.html">as.factor</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span>,
         var <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/factor.html">as.factor</a></span><span class="op">(</span><span class="va">var</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">year</span>, y <span class="op">=</span> <span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">id</span>, group <span class="op">=</span> <span class="va">id</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">var</span>, scales <span class="op">=</span> <span class="st">"free_y"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">45</span>, hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/plotly/man/ggplotly.html">ggplotly</a></span><span class="op">(</span><span class="va">plt</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-359fb4d658c9715eaee4" style="width:700px;height:432.632880098888px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-359fb4d658c9715eaee4">{"x":{"data":[{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"y":[788692.07622402,375055.310613946,375055.310613946,375055.310613946,375055.310613946,375055.310613946,374684.327109487,128913.543589838,20032.4962450323,20032.4962450323,18548.5782914231,17559.3208902021,17559.3208902021,17559.3208902021,9026.93253236023,4822.65931708396,null,null,null],"text":["id: 1<br />id: 1<br />year: 2000<br />value:  788692.076","id: 1<br />id: 1<br />year: 2001<br />value:  375055.311","id: 1<br />id: 1<br />year: 2002<br />value:  375055.311","id: 1<br />id: 1<br />year: 2003<br />value:  375055.311","id: 1<br />id: 1<br />year: 2004<br />value:  375055.311","id: 1<br />id: 1<br />year: 2005<br />value:  375055.311","id: 1<br />id: 1<br />year: 2006<br />value:  374684.327","id: 1<br />id: 1<br />year: 2007<br />value:  128913.544","id: 1<br />id: 1<br />year: 2008<br />value:   20032.496","id: 1<br />id: 1<br />year: 2009<br />value:   20032.496","id: 1<br />id: 1<br />year: 2010<br />value:   18548.578","id: 1<br />id: 1<br />year: 2011<br />value:   17559.321","id: 1<br />id: 1<br />year: 2012<br />value:   17559.321","id: 1<br />id: 1<br />year: 2013<br />value:   17559.321","id: 1<br />id: 1<br />year: 2014<br />value:    9026.933","id: 1<br />id: 1<br />year: 2015<br />value:    4822.659","id: 1<br />id: 1<br />year: 2016<br />value:         NaN","id: 1<br />id: 1<br />year: 2017<br />value:         NaN","id: 1<br />id: 1<br />year: 2018<br />value:         NaN"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)","dash":"solid"},"hoveron":"points","name":"1","legendgroup":"1","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"y":[1,2,2,2,2,2,2,4,7,7,6,6,6,6,6,2,0,0,0],"text":["id: 1<br />id: 1<br />year: 2000<br />value:       1.000","id: 1<br />id: 1<br />year: 2001<br />value:       2.000","id: 1<br />id: 1<br />year: 2002<br />value:       2.000","id: 1<br />id: 1<br />year: 2003<br />value:       2.000","id: 1<br />id: 1<br />year: 2004<br />value:       2.000","id: 1<br />id: 1<br />year: 2005<br />value:       2.000","id: 1<br />id: 1<br />year: 2006<br />value:       2.000","id: 1<br />id: 1<br />year: 2007<br />value:       4.000","id: 1<br />id: 1<br />year: 2008<br />value:       7.000","id: 1<br />id: 1<br />year: 2009<br />value:       7.000","id: 1<br />id: 1<br />year: 2010<br />value:       6.000","id: 1<br />id: 1<br />year: 2011<br />value:       6.000","id: 1<br />id: 1<br />year: 2012<br />value:       6.000","id: 1<br />id: 1<br />year: 2013<br />value:       6.000","id: 1<br />id: 1<br />year: 2014<br />value:       6.000","id: 1<br />id: 1<br />year: 2015<br />value:       2.000","id: 1<br />id: 1<br />year: 2016<br />value:       0.000","id: 1<br />id: 1<br />year: 2017<br />value:       0.000","id: 1<br />id: 1<br />year: 2018<br />value:       0.000"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)","dash":"solid"},"hoveron":"points","name":"1","legendgroup":"1","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"y":[4167.93,4983.00000000001,4983.00000000001,4983.00000000001,4983.00000000001,4983.00000000001,5038.34000000001,8668.36000000002,6985.22000000001,6985.22000000001,6380.85,6274.56,6274.56,6274.56,3410.72,706.44,0,0,0],"text":["id: 1<br />id: 1<br />year: 2000<br />value:    4167.930","id: 1<br />id: 1<br />year: 2001<br />value:    4983.000","id: 1<br />id: 1<br />year: 2002<br />value:    4983.000","id: 1<br />id: 1<br />year: 2003<br />value:    4983.000","id: 1<br />id: 1<br />year: 2004<br />value:    4983.000","id: 1<br />id: 1<br />year: 2005<br />value:    4983.000","id: 1<br />id: 1<br />year: 2006<br />value:    5038.340","id: 1<br />id: 1<br />year: 2007<br />value:    8668.360","id: 1<br />id: 1<br />year: 2008<br />value:    6985.220","id: 1<br />id: 1<br />year: 2009<br />value:    6985.220","id: 1<br />id: 1<br />year: 2010<br />value:    6380.850","id: 1<br />id: 1<br />year: 2011<br />value:    6274.560","id: 1<br />id: 1<br />year: 2012<br />value:    6274.560","id: 1<br />id: 1<br />year: 2013<br />value:    6274.560","id: 1<br />id: 1<br />year: 2014<br />value:    3410.720","id: 1<br />id: 1<br />year: 2015<br />value:     706.440","id: 1<br />id: 1<br />year: 2016<br />value:       0.000","id: 1<br />id: 1<br />year: 2017<br />value:       0.000","id: 1<br />id: 1<br />year: 2018<br />value:       0.000"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)","dash":"solid"},"hoveron":"points","name":"1","legendgroup":"1","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"y":[1001026.58322706,975611.562383196,974127.406682154,974127.406682154,974127.406682154,974127.406682154,973941.896081243,911052.613853613,652558.897353476,643506.027684146,158502.777103066,93303.6372586046,74381.9015155831,65268.3746992567,67493.066100603,46044.9186479831,43880.7491001636,27455.4782512609,16324.9673633621],"text":["id: 2<br />id: 2<br />year: 2000<br />value: 1001026.583","id: 2<br />id: 2<br />year: 2001<br />value:  975611.562","id: 2<br />id: 2<br />year: 2002<br />value:  974127.407","id: 2<br />id: 2<br />year: 2003<br />value:  974127.407","id: 2<br />id: 2<br />year: 2004<br />value:  974127.407","id: 2<br />id: 2<br />year: 2005<br />value:  974127.407","id: 2<br />id: 2<br />year: 2006<br />value:  973941.896","id: 2<br />id: 2<br />year: 2007<br />value:  911052.614","id: 2<br />id: 2<br />year: 2008<br />value:  652558.897","id: 2<br />id: 2<br />year: 2009<br />value:  643506.028","id: 2<br />id: 2<br />year: 2010<br />value:  158502.777","id: 2<br />id: 2<br />year: 2011<br />value:   93303.637","id: 2<br />id: 2<br />year: 2012<br />value:   74381.902","id: 2<br />id: 2<br />year: 2013<br />value:   65268.375","id: 2<br />id: 2<br />year: 2014<br />value:   67493.066","id: 2<br />id: 2<br />year: 2015<br />value:   46044.919","id: 2<br />id: 2<br />year: 2016<br />value:   43880.749","id: 2<br />id: 2<br />year: 2017<br />value:   27455.478","id: 2<br />id: 2<br />year: 2018<br />value:   16324.967"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(205,150,0,1)","dash":"solid"},"hoveron":"points","name":"2","legendgroup":"2","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"y":[4,4,4,4,4,4,4,4,5,5,15,19,21,23,22,20,15,9,3],"text":["id: 2<br />id: 2<br />year: 2000<br />value:       4.000","id: 2<br />id: 2<br />year: 2001<br />value:       4.000","id: 2<br />id: 2<br />year: 2002<br />value:       4.000","id: 2<br />id: 2<br />year: 2003<br />value:       4.000","id: 2<br />id: 2<br />year: 2004<br />value:       4.000","id: 2<br />id: 2<br />year: 2005<br />value:       4.000","id: 2<br />id: 2<br />year: 2006<br />value:       4.000","id: 2<br />id: 2<br />year: 2007<br />value:       4.000","id: 2<br />id: 2<br />year: 2008<br />value:       5.000","id: 2<br />id: 2<br />year: 2009<br />value:       5.000","id: 2<br />id: 2<br />year: 2010<br />value:      15.000","id: 2<br />id: 2<br />year: 2011<br />value:      19.000","id: 2<br />id: 2<br />year: 2012<br />value:      21.000","id: 2<br />id: 2<br />year: 2013<br />value:      23.000","id: 2<br />id: 2<br />year: 2014<br />value:      22.000","id: 2<br />id: 2<br />year: 2015<br />value:      20.000","id: 2<br />id: 2<br />year: 2016<br />value:      15.000","id: 2<br />id: 2<br />year: 2017<br />value:       9.000","id: 2<br />id: 2<br />year: 2018<br />value:       3.000"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(205,150,0,1)","dash":"solid"},"hoveron":"points","name":"2","legendgroup":"2","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"y":[29340.62,37873.4799999998,38307.5599999998,38307.5599999998,38307.5599999998,38307.5599999998,38416.0799999998,42916.4199999998,40728.7399999998,44580.1199999997,46095.0800000001,52116.8600000001,56497.8800000001,56061.6400000001,55195.6400000001,43556.7400000001,32164.3,12428.78,2451.42],"text":["id: 2<br />id: 2<br />year: 2000<br />value:   29340.620","id: 2<br />id: 2<br />year: 2001<br />value:   37873.480","id: 2<br />id: 2<br />year: 2002<br />value:   38307.560","id: 2<br />id: 2<br />year: 2003<br />value:   38307.560","id: 2<br />id: 2<br />year: 2004<br />value:   38307.560","id: 2<br />id: 2<br />year: 2005<br />value:   38307.560","id: 2<br />id: 2<br />year: 2006<br />value:   38416.080","id: 2<br />id: 2<br />year: 2007<br />value:   42916.420","id: 2<br />id: 2<br />year: 2008<br />value:   40728.740","id: 2<br />id: 2<br />year: 2009<br />value:   44580.120","id: 2<br />id: 2<br />year: 2010<br />value:   46095.080","id: 2<br />id: 2<br />year: 2011<br />value:   52116.860","id: 2<br />id: 2<br />year: 2012<br />value:   56497.880","id: 2<br />id: 2<br />year: 2013<br />value:   56061.640","id: 2<br />id: 2<br />year: 2014<br />value:   55195.640","id: 2<br />id: 2<br />year: 2015<br />value:   43556.740","id: 2<br />id: 2<br />year: 2016<br />value:   32164.300","id: 2<br />id: 2<br />year: 2017<br />value:   12428.780","id: 2<br />id: 2<br />year: 2018<br />value:    2451.420"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(205,150,0,1)","dash":"solid"},"hoveron":"points","name":"2","legendgroup":"2","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"y":[287228.04126487,140629.035766199,140115.376500603,140115.376500603,127828.272552899,114409.605464851,98112.7870583591,97938.2131942442,81380.7746216767,79974.971047348,58688.748261599,46033.5825650056,45191.9393160848,39291.3751954338,31780.3410416373,20589.1280426738,20125.4001546217,13679.748337154,12056.6459345621],"text":["id: 3<br />id: 3<br />year: 2000<br />value:  287228.041","id: 3<br />id: 3<br />year: 2001<br />value:  140629.036","id: 3<br />id: 3<br />year: 2002<br />value:  140115.377","id: 3<br />id: 3<br />year: 2003<br />value:  140115.377","id: 3<br />id: 3<br />year: 2004<br />value:  127828.273","id: 3<br />id: 3<br />year: 2005<br />value:  114409.605","id: 3<br />id: 3<br />year: 2006<br />value:   98112.787","id: 3<br />id: 3<br />year: 2007<br />value:   97938.213","id: 3<br />id: 3<br />year: 2008<br />value:   81380.775","id: 3<br />id: 3<br />year: 2009<br />value:   79974.971","id: 3<br />id: 3<br />year: 2010<br />value:   58688.748","id: 3<br />id: 3<br />year: 2011<br />value:   46033.583","id: 3<br />id: 3<br />year: 2012<br />value:   45191.939","id: 3<br />id: 3<br />year: 2013<br />value:   39291.375","id: 3<br />id: 3<br />year: 2014<br />value:   31780.341","id: 3<br />id: 3<br />year: 2015<br />value:   20589.128","id: 3<br />id: 3<br />year: 2016<br />value:   20125.400","id: 3<br />id: 3<br />year: 2017<br />value:   13679.748","id: 3<br />id: 3<br />year: 2018<br />value:   12056.646"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(124,174,0,1)","dash":"solid"},"hoveron":"points","name":"3","legendgroup":"3","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"y":[8,13,13,13,14,15,17,17,19,19,20,23,22,23,24,20,16,16,4],"text":["id: 3<br />id: 3<br />year: 2000<br />value:       8.000","id: 3<br />id: 3<br />year: 2001<br />value:      13.000","id: 3<br />id: 3<br />year: 2002<br />value:      13.000","id: 3<br />id: 3<br />year: 2003<br />value:      13.000","id: 3<br />id: 3<br />year: 2004<br />value:      14.000","id: 3<br />id: 3<br />year: 2005<br />value:      15.000","id: 3<br />id: 3<br />year: 2006<br />value:      17.000","id: 3<br />id: 3<br />year: 2007<br />value:      17.000","id: 3<br />id: 3<br />year: 2008<br />value:      19.000","id: 3<br />id: 3<br />year: 2009<br />value:      19.000","id: 3<br />id: 3<br />year: 2010<br />value:      20.000","id: 3<br />id: 3<br />year: 2011<br />value:      23.000","id: 3<br />id: 3<br />year: 2012<br />value:      22.000","id: 3<br />id: 3<br />year: 2013<br />value:      23.000","id: 3<br />id: 3<br />year: 2014<br />value:      24.000","id: 3<br />id: 3<br />year: 2015<br />value:      20.000","id: 3<br />id: 3<br />year: 2016<br />value:      16.000","id: 3<br />id: 3<br />year: 2017<br />value:      16.000","id: 3<br />id: 3<br />year: 2018<br />value:       4.000"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(124,174,0,1)","dash":"solid"},"hoveron":"points","name":"3","legendgroup":"3","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"y":[53105.3399999995,54967.7799999996,55297.6999999996,55297.6999999996,56057.3399999996,56591.2999999996,56980.8799999996,57359.6199999996,58170.2799999998,59312.9799999998,51975.08,49206.76,46759.72,45636.46,42316.98,26380.07,20360.74,15024.1,3638.58],"text":["id: 3<br />id: 3<br />year: 2000<br />value:   53105.340","id: 3<br />id: 3<br />year: 2001<br />value:   54967.780","id: 3<br />id: 3<br />year: 2002<br />value:   55297.700","id: 3<br />id: 3<br />year: 2003<br />value:   55297.700","id: 3<br />id: 3<br />year: 2004<br />value:   56057.340","id: 3<br />id: 3<br />year: 2005<br />value:   56591.300","id: 3<br />id: 3<br />year: 2006<br />value:   56980.880","id: 3<br />id: 3<br />year: 2007<br />value:   57359.620","id: 3<br />id: 3<br />year: 2008<br />value:   58170.280","id: 3<br />id: 3<br />year: 2009<br />value:   59312.980","id: 3<br />id: 3<br />year: 2010<br />value:   51975.080","id: 3<br />id: 3<br />year: 2011<br />value:   49206.760","id: 3<br />id: 3<br />year: 2012<br />value:   46759.720","id: 3<br />id: 3<br />year: 2013<br />value:   45636.460","id: 3<br />id: 3<br />year: 2014<br />value:   42316.980","id: 3<br />id: 3<br />year: 2015<br />value:   26380.070","id: 3<br />id: 3<br />year: 2016<br />value:   20360.740","id: 3<br />id: 3<br />year: 2017<br />value:   15024.100","id: 3<br />id: 3<br />year: 2018<br />value:    3638.580"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(124,174,0,1)","dash":"solid"},"hoveron":"points","name":"3","legendgroup":"3","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"y":[544663.198592497,132174.810281743,132174.810281743,132174.810281743,130183.366392659,112211.98119509,109429.905146894,108205.74418004,98857.640658539,98857.640658539,93033.7414673363,96993.1154871737,44010.6366704064,38783.48810718,30935.0267827052,28879.2140982464,27450.3926082668,28316.173756762,30047.3400077592],"text":["id: 4<br />id: 4<br />year: 2000<br />value:  544663.199","id: 4<br />id: 4<br />year: 2001<br />value:  132174.810","id: 4<br />id: 4<br />year: 2002<br />value:  132174.810","id: 4<br />id: 4<br />year: 2003<br />value:  132174.810","id: 4<br />id: 4<br />year: 2004<br />value:  130183.366","id: 4<br />id: 4<br />year: 2005<br />value:  112211.981","id: 4<br />id: 4<br />year: 2006<br />value:  109429.905","id: 4<br />id: 4<br />year: 2007<br />value:  108205.744","id: 4<br />id: 4<br />year: 2008<br />value:   98857.641","id: 4<br />id: 4<br />year: 2009<br />value:   98857.641","id: 4<br />id: 4<br />year: 2010<br />value:   93033.741","id: 4<br />id: 4<br />year: 2011<br />value:   96993.115","id: 4<br />id: 4<br />year: 2012<br />value:   44010.637","id: 4<br />id: 4<br />year: 2013<br />value:   38783.488","id: 4<br />id: 4<br />year: 2014<br />value:   30935.027","id: 4<br />id: 4<br />year: 2015<br />value:   28879.214","id: 4<br />id: 4<br />year: 2016<br />value:   27450.393","id: 4<br />id: 4<br />year: 2017<br />value:   28316.174","id: 4<br />id: 4<br />year: 2018<br />value:   30047.340"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,190,103,1)","dash":"solid"},"hoveron":"points","name":"4","legendgroup":"4","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"y":[7,19,19,19,19,20,20,20,20,20,20,19,28,29,33,27,26,18,8],"text":["id: 4<br />id: 4<br />year: 2000<br />value:       7.000","id: 4<br />id: 4<br />year: 2001<br />value:      19.000","id: 4<br />id: 4<br />year: 2002<br />value:      19.000","id: 4<br />id: 4<br />year: 2003<br />value:      19.000","id: 4<br />id: 4<br />year: 2004<br />value:      19.000","id: 4<br />id: 4<br />year: 2005<br />value:      20.000","id: 4<br />id: 4<br />year: 2006<br />value:      20.000","id: 4<br />id: 4<br />year: 2007<br />value:      20.000","id: 4<br />id: 4<br />year: 2008<br />value:      20.000","id: 4<br />id: 4<br />year: 2009<br />value:      20.000","id: 4<br />id: 4<br />year: 2010<br />value:      20.000","id: 4<br />id: 4<br />year: 2011<br />value:      19.000","id: 4<br />id: 4<br />year: 2012<br />value:      28.000","id: 4<br />id: 4<br />year: 2013<br />value:      29.000","id: 4<br />id: 4<br />year: 2014<br />value:      33.000","id: 4<br />id: 4<br />year: 2015<br />value:      27.000","id: 4<br />id: 4<br />year: 2016<br />value:      26.000","id: 4<br />id: 4<br />year: 2017<br />value:      18.000","id: 4<br />id: 4<br />year: 2018<br />value:       8.000"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,190,103,1)","dash":"solid"},"hoveron":"points","name":"4","legendgroup":"4","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"y":[23958.8799999999,51437.72,51437.72,51437.72,50748.82,50691.3,50963.64,51229.44,53295.3,53295.3,55892.76,55131.08,54214.28,53067.4,48519.12,37545.36,33856.36,22842.52,12094.48],"text":["id: 4<br />id: 4<br />year: 2000<br />value:   23958.880","id: 4<br />id: 4<br />year: 2001<br />value:   51437.720","id: 4<br />id: 4<br />year: 2002<br />value:   51437.720","id: 4<br />id: 4<br />year: 2003<br />value:   51437.720","id: 4<br />id: 4<br />year: 2004<br />value:   50748.820","id: 4<br />id: 4<br />year: 2005<br />value:   50691.300","id: 4<br />id: 4<br />year: 2006<br />value:   50963.640","id: 4<br />id: 4<br />year: 2007<br />value:   51229.440","id: 4<br />id: 4<br />year: 2008<br />value:   53295.300","id: 4<br />id: 4<br />year: 2009<br />value:   53295.300","id: 4<br />id: 4<br />year: 2010<br />value:   55892.760","id: 4<br />id: 4<br />year: 2011<br />value:   55131.080","id: 4<br />id: 4<br />year: 2012<br />value:   54214.280","id: 4<br />id: 4<br />year: 2013<br />value:   53067.400","id: 4<br />id: 4<br />year: 2014<br />value:   48519.120","id: 4<br />id: 4<br />year: 2015<br />value:   37545.360","id: 4<br />id: 4<br />year: 2016<br />value:   33856.360","id: 4<br />id: 4<br />year: 2017<br />value:   22842.520","id: 4<br />id: 4<br />year: 2018<br />value:   12094.480"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,190,103,1)","dash":"solid"},"hoveron":"points","name":"4","legendgroup":"4","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"y":[1763647.29296102,1680039.20091402,1242218.54141058,1241291.01918601,1231088.1915195,417116.63313824,405392.125418738,393667.629663911,365988.261597295,294601.259464577,182199.445459938,137317.921423955,97863.8597721772,71741.8965298644,58861.6975181172,32968.9302585354,23722.0222270693,18366.0782820618,4452.2540710255],"text":["id: 5<br />id: 5<br />year: 2000<br />value: 1763647.293","id: 5<br />id: 5<br />year: 2001<br />value: 1680039.201","id: 5<br />id: 5<br />year: 2002<br />value: 1242218.541","id: 5<br />id: 5<br />year: 2003<br />value: 1241291.019","id: 5<br />id: 5<br />year: 2004<br />value: 1231088.192","id: 5<br />id: 5<br />year: 2005<br />value:  417116.633","id: 5<br />id: 5<br />year: 2006<br />value:  405392.125","id: 5<br />id: 5<br />year: 2007<br />value:  393667.630","id: 5<br />id: 5<br />year: 2008<br />value:  365988.262","id: 5<br />id: 5<br />year: 2009<br />value:  294601.259","id: 5<br />id: 5<br />year: 2010<br />value:  182199.445","id: 5<br />id: 5<br />year: 2011<br />value:  137317.921","id: 5<br />id: 5<br />year: 2012<br />value:   97863.860","id: 5<br />id: 5<br />year: 2013<br />value:   71741.897","id: 5<br />id: 5<br />year: 2014<br />value:   58861.698","id: 5<br />id: 5<br />year: 2015<br />value:   32968.930","id: 5<br />id: 5<br />year: 2016<br />value:   23722.022","id: 5<br />id: 5<br />year: 2017<br />value:   18366.078","id: 5<br />id: 5<br />year: 2018<br />value:    4452.254"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,191,196,1)","dash":"solid"},"hoveron":"points","name":"5","legendgroup":"5","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"y":[3,3,4,4,4,10,10,10,10,12,17,21,25,28,28,35,31,16,2],"text":["id: 5<br />id: 5<br />year: 2000<br />value:       3.000","id: 5<br />id: 5<br />year: 2001<br />value:       3.000","id: 5<br />id: 5<br />year: 2002<br />value:       4.000","id: 5<br />id: 5<br />year: 2003<br />value:       4.000","id: 5<br />id: 5<br />year: 2004<br />value:       4.000","id: 5<br />id: 5<br />year: 2005<br />value:      10.000","id: 5<br />id: 5<br />year: 2006<br />value:      10.000","id: 5<br />id: 5<br />year: 2007<br />value:      10.000","id: 5<br />id: 5<br />year: 2008<br />value:      10.000","id: 5<br />id: 5<br />year: 2009<br />value:      12.000","id: 5<br />id: 5<br />year: 2010<br />value:      17.000","id: 5<br />id: 5<br />year: 2011<br />value:      21.000","id: 5<br />id: 5<br />year: 2012<br />value:      25.000","id: 5<br />id: 5<br />year: 2013<br />value:      28.000","id: 5<br />id: 5<br />year: 2014<br />value:      28.000","id: 5<br />id: 5<br />year: 2015<br />value:      35.000","id: 5<br />id: 5<br />year: 2016<br />value:      31.000","id: 5<br />id: 5<br />year: 2017<br />value:      16.000","id: 5<br />id: 5<br />year: 2018<br />value:       2.000"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,191,196,1)","dash":"solid"},"hoveron":"points","name":"5","legendgroup":"5","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"y":[37746.3399999995,55856.2199999988,56841.5399999987,57169.2599999987,57709.6999999987,71131.6199999993,76283.0799999991,77478.959999999,83819.8199999989,86854.0599999991,88619.7999999998,89219.8999999997,93330.6999999997,93102.8599999997,84084.9000000001,65028.5800000001,43029.26,18561.24,651.12],"text":["id: 5<br />id: 5<br />year: 2000<br />value:   37746.340","id: 5<br />id: 5<br />year: 2001<br />value:   55856.220","id: 5<br />id: 5<br />year: 2002<br />value:   56841.540","id: 5<br />id: 5<br />year: 2003<br />value:   57169.260","id: 5<br />id: 5<br />year: 2004<br />value:   57709.700","id: 5<br />id: 5<br />year: 2005<br />value:   71131.620","id: 5<br />id: 5<br />year: 2006<br />value:   76283.080","id: 5<br />id: 5<br />year: 2007<br />value:   77478.960","id: 5<br />id: 5<br />year: 2008<br />value:   83819.820","id: 5<br />id: 5<br />year: 2009<br />value:   86854.060","id: 5<br />id: 5<br />year: 2010<br />value:   88619.800","id: 5<br />id: 5<br />year: 2011<br />value:   89219.900","id: 5<br />id: 5<br />year: 2012<br />value:   93330.700","id: 5<br />id: 5<br />year: 2013<br />value:   93102.860","id: 5<br />id: 5<br />year: 2014<br />value:   84084.900","id: 5<br />id: 5<br />year: 2015<br />value:   65028.580","id: 5<br />id: 5<br />year: 2016<br />value:   43029.260","id: 5<br />id: 5<br />year: 2017<br />value:   18561.240","id: 5<br />id: 5<br />year: 2018<br />value:     651.120"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,191,196,1)","dash":"solid"},"hoveron":"points","name":"5","legendgroup":"5","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"y":[684039.402615401,482883.974294319,482883.974294319,482883.974294319,413234.923638487,403423.353818903,400620.158887505,291251.610932457,260343.030276715,259087.245030622,163162.678087693,135629.253498015,79028.332998037,46336.8326191914,41342.7728879906,38277.5689584719,32818.7823829957,23151.9706269781,22014.1657477412],"text":["id: 6<br />id: 6<br />year: 2000<br />value:  684039.403","id: 6<br />id: 6<br />year: 2001<br />value:  482883.974","id: 6<br />id: 6<br />year: 2002<br />value:  482883.974","id: 6<br />id: 6<br />year: 2003<br />value:  482883.974","id: 6<br />id: 6<br />year: 2004<br />value:  413234.924","id: 6<br />id: 6<br />year: 2005<br />value:  403423.354","id: 6<br />id: 6<br />year: 2006<br />value:  400620.159","id: 6<br />id: 6<br />year: 2007<br />value:  291251.611","id: 6<br />id: 6<br />year: 2008<br />value:  260343.030","id: 6<br />id: 6<br />year: 2009<br />value:  259087.245","id: 6<br />id: 6<br />year: 2010<br />value:  163162.678","id: 6<br />id: 6<br />year: 2011<br />value:  135629.253","id: 6<br />id: 6<br />year: 2012<br />value:   79028.333","id: 6<br />id: 6<br />year: 2013<br />value:   46336.833","id: 6<br />id: 6<br />year: 2014<br />value:   41342.773","id: 6<br />id: 6<br />year: 2015<br />value:   38277.569","id: 6<br />id: 6<br />year: 2016<br />value:   32818.782","id: 6<br />id: 6<br />year: 2017<br />value:   23151.971","id: 6<br />id: 6<br />year: 2018<br />value:   22014.166"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,169,255,1)","dash":"solid"},"hoveron":"points","name":"6","legendgroup":"6","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"y":[6,8,8,8,9,9,9,12,13,13,17,18,24,27,28,24,22,15,9],"text":["id: 6<br />id: 6<br />year: 2000<br />value:       6.000","id: 6<br />id: 6<br />year: 2001<br />value:       8.000","id: 6<br />id: 6<br />year: 2002<br />value:       8.000","id: 6<br />id: 6<br />year: 2003<br />value:       8.000","id: 6<br />id: 6<br />year: 2004<br />value:       9.000","id: 6<br />id: 6<br />year: 2005<br />value:       9.000","id: 6<br />id: 6<br />year: 2006<br />value:       9.000","id: 6<br />id: 6<br />year: 2007<br />value:      12.000","id: 6<br />id: 6<br />year: 2008<br />value:      13.000","id: 6<br />id: 6<br />year: 2009<br />value:      13.000","id: 6<br />id: 6<br />year: 2010<br />value:      17.000","id: 6<br />id: 6<br />year: 2011<br />value:      18.000","id: 6<br />id: 6<br />year: 2012<br />value:      24.000","id: 6<br />id: 6<br />year: 2013<br />value:      27.000","id: 6<br />id: 6<br />year: 2014<br />value:      28.000","id: 6<br />id: 6<br />year: 2015<br />value:      24.000","id: 6<br />id: 6<br />year: 2016<br />value:      22.000","id: 6<br />id: 6<br />year: 2017<br />value:      15.000","id: 6<br />id: 6<br />year: 2018<br />value:       9.000"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,169,255,1)","dash":"solid"},"hoveron":"points","name":"6","legendgroup":"6","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"y":[42797.9199999996,57020.5199999992,57020.5199999992,57020.5199999992,60920.7599999991,64136.1399999989,65004.2999999989,66195.859999999,67493.779999999,68306.599999999,70038.5999999992,73487.4799999992,71844.5599999993,60352.2399999997,58786.2599999998,45817.04,36431.14,17001.74,10696.78],"text":["id: 6<br />id: 6<br />year: 2000<br />value:   42797.920","id: 6<br />id: 6<br />year: 2001<br />value:   57020.520","id: 6<br />id: 6<br />year: 2002<br />value:   57020.520","id: 6<br />id: 6<br />year: 2003<br />value:   57020.520","id: 6<br />id: 6<br />year: 2004<br />value:   60920.760","id: 6<br />id: 6<br />year: 2005<br />value:   64136.140","id: 6<br />id: 6<br />year: 2006<br />value:   65004.300","id: 6<br />id: 6<br />year: 2007<br />value:   66195.860","id: 6<br />id: 6<br />year: 2008<br />value:   67493.780","id: 6<br />id: 6<br />year: 2009<br />value:   68306.600","id: 6<br />id: 6<br />year: 2010<br />value:   70038.600","id: 6<br />id: 6<br />year: 2011<br />value:   73487.480","id: 6<br />id: 6<br />year: 2012<br />value:   71844.560","id: 6<br />id: 6<br />year: 2013<br />value:   60352.240","id: 6<br />id: 6<br />year: 2014<br />value:   58786.260","id: 6<br />id: 6<br />year: 2015<br />value:   45817.040","id: 6<br />id: 6<br />year: 2016<br />value:   36431.140","id: 6<br />id: 6<br />year: 2017<br />value:   17001.740","id: 6<br />id: 6<br />year: 2018<br />value:   10696.780"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,169,255,1)","dash":"solid"},"hoveron":"points","name":"6","legendgroup":"6","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"y":[236696.397154314,138789.324182065,137634.776621745,137634.776621745,137593.54236695,137593.54236695,136933.825444349,136933.825444349,144726.797132787,144726.797132787,60141.422488545,46572.6258978491,41442.3548552098,39902.5234211221,40960.9097242099,35625.5855983912,30960.4798068903,17024.3736125604,null],"text":["id: 7<br />id: 7<br />year: 2000<br />value:  236696.397","id: 7<br />id: 7<br />year: 2001<br />value:  138789.324","id: 7<br />id: 7<br />year: 2002<br />value:  137634.777","id: 7<br />id: 7<br />year: 2003<br />value:  137634.777","id: 7<br />id: 7<br />year: 2004<br />value:  137593.542","id: 7<br />id: 7<br />year: 2005<br />value:  137593.542","id: 7<br />id: 7<br />year: 2006<br />value:  136933.825","id: 7<br />id: 7<br />year: 2007<br />value:  136933.825","id: 7<br />id: 7<br />year: 2008<br />value:  144726.797","id: 7<br />id: 7<br />year: 2009<br />value:  144726.797","id: 7<br />id: 7<br />year: 2010<br />value:   60141.422","id: 7<br />id: 7<br />year: 2011<br />value:   46572.626","id: 7<br />id: 7<br />year: 2012<br />value:   41442.355","id: 7<br />id: 7<br />year: 2013<br />value:   39902.523","id: 7<br />id: 7<br />year: 2014<br />value:   40960.910","id: 7<br />id: 7<br />year: 2015<br />value:   35625.586","id: 7<br />id: 7<br />year: 2016<br />value:   30960.480","id: 7<br />id: 7<br />year: 2017<br />value:   17024.374","id: 7<br />id: 7<br />year: 2018<br />value:         NaN"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(199,124,255,1)","dash":"solid"},"hoveron":"points","name":"7","legendgroup":"7","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"y":[12,18,18,18,18,18,18,18,17,17,31,36,37,38,37,28,21,16,0],"text":["id: 7<br />id: 7<br />year: 2000<br />value:      12.000","id: 7<br />id: 7<br />year: 2001<br />value:      18.000","id: 7<br />id: 7<br />year: 2002<br />value:      18.000","id: 7<br />id: 7<br />year: 2003<br />value:      18.000","id: 7<br />id: 7<br />year: 2004<br />value:      18.000","id: 7<br />id: 7<br />year: 2005<br />value:      18.000","id: 7<br />id: 7<br />year: 2006<br />value:      18.000","id: 7<br />id: 7<br />year: 2007<br />value:      18.000","id: 7<br />id: 7<br />year: 2008<br />value:      17.000","id: 7<br />id: 7<br />year: 2009<br />value:      17.000","id: 7<br />id: 7<br />year: 2010<br />value:      31.000","id: 7<br />id: 7<br />year: 2011<br />value:      36.000","id: 7<br />id: 7<br />year: 2012<br />value:      37.000","id: 7<br />id: 7<br />year: 2013<br />value:      38.000","id: 7<br />id: 7<br />year: 2014<br />value:      37.000","id: 7<br />id: 7<br />year: 2015<br />value:      28.000","id: 7<br />id: 7<br />year: 2016<br />value:      21.000","id: 7<br />id: 7<br />year: 2017<br />value:      16.000","id: 7<br />id: 7<br />year: 2018<br />value:       0.000"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(199,124,255,1)","dash":"solid"},"hoveron":"points","name":"7","legendgroup":"7","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"y":[62559.269999999,74128.6599999994,75430.8999999994,75430.8999999994,75430.8999999994,75430.8999999994,76028.8599999994,76028.8599999994,75594.6999999994,75594.6999999994,76646.3499999999,75880.2600000001,77948.8200000001,77950.9400000001,77842.4000000001,51308.1800000001,34874.47,16046.86,0],"text":["id: 7<br />id: 7<br />year: 2000<br />value:   62559.270","id: 7<br />id: 7<br />year: 2001<br />value:   74128.660","id: 7<br />id: 7<br />year: 2002<br />value:   75430.900","id: 7<br />id: 7<br />year: 2003<br />value:   75430.900","id: 7<br />id: 7<br />year: 2004<br />value:   75430.900","id: 7<br />id: 7<br />year: 2005<br />value:   75430.900","id: 7<br />id: 7<br />year: 2006<br />value:   76028.860","id: 7<br />id: 7<br />year: 2007<br />value:   76028.860","id: 7<br />id: 7<br />year: 2008<br />value:   75594.700","id: 7<br />id: 7<br />year: 2009<br />value:   75594.700","id: 7<br />id: 7<br />year: 2010<br />value:   76646.350","id: 7<br />id: 7<br />year: 2011<br />value:   75880.260","id: 7<br />id: 7<br />year: 2012<br />value:   77948.820","id: 7<br />id: 7<br />year: 2013<br />value:   77950.940","id: 7<br />id: 7<br />year: 2014<br />value:   77842.400","id: 7<br />id: 7<br />year: 2015<br />value:   51308.180","id: 7<br />id: 7<br />year: 2016<br />value:   34874.470","id: 7<br />id: 7<br />year: 2017<br />value:   16046.860","id: 7<br />id: 7<br />year: 2018<br />value:       0.000"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(199,124,255,1)","dash":"solid"},"hoveron":"points","name":"7","legendgroup":"7","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"y":[504665.085683964,201693.899040705,200552.160801656,216460.802486747,197184.002305503,197126.9137151,197126.9137151,197126.9137151,197126.9137151,197126.9137151,175466.088473587,159909.282529377,126166.152739705,75487.1384646256,65202.7603118382,46847.8266609076,37512.1421441542,26717.4035534223,14257.0780635949],"text":["id: 8<br />id: 8<br />year: 2000<br />value:  504665.086","id: 8<br />id: 8<br />year: 2001<br />value:  201693.899","id: 8<br />id: 8<br />year: 2002<br />value:  200552.161","id: 8<br />id: 8<br />year: 2003<br />value:  216460.802","id: 8<br />id: 8<br />year: 2004<br />value:  197184.002","id: 8<br />id: 8<br />year: 2005<br />value:  197126.914","id: 8<br />id: 8<br />year: 2006<br />value:  197126.914","id: 8<br />id: 8<br />year: 2007<br />value:  197126.914","id: 8<br />id: 8<br />year: 2008<br />value:  197126.914","id: 8<br />id: 8<br />year: 2009<br />value:  197126.914","id: 8<br />id: 8<br />year: 2010<br />value:  175466.088","id: 8<br />id: 8<br />year: 2011<br />value:  159909.283","id: 8<br />id: 8<br />year: 2012<br />value:  126166.153","id: 8<br />id: 8<br />year: 2013<br />value:   75487.138","id: 8<br />id: 8<br />year: 2014<br />value:   65202.760","id: 8<br />id: 8<br />year: 2015<br />value:   46847.827","id: 8<br />id: 8<br />year: 2016<br />value:   37512.142","id: 8<br />id: 8<br />year: 2017<br />value:   26717.404","id: 8<br />id: 8<br />year: 2018<br />value:   14257.078"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(255,97,204,1)","dash":"solid"},"hoveron":"points","name":"8","legendgroup":"8","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"y":[6,13,13,12,13,13,13,13,13,13,14,15,17,21,21,24,22,17,19],"text":["id: 8<br />id: 8<br />year: 2000<br />value:       6.000","id: 8<br />id: 8<br />year: 2001<br />value:      13.000","id: 8<br />id: 8<br />year: 2002<br />value:      13.000","id: 8<br />id: 8<br />year: 2003<br />value:      12.000","id: 8<br />id: 8<br />year: 2004<br />value:      13.000","id: 8<br />id: 8<br />year: 2005<br />value:      13.000","id: 8<br />id: 8<br />year: 2006<br />value:      13.000","id: 8<br />id: 8<br />year: 2007<br />value:      13.000","id: 8<br />id: 8<br />year: 2008<br />value:      13.000","id: 8<br />id: 8<br />year: 2009<br />value:      13.000","id: 8<br />id: 8<br />year: 2010<br />value:      14.000","id: 8<br />id: 8<br />year: 2011<br />value:      15.000","id: 8<br />id: 8<br />year: 2012<br />value:      17.000","id: 8<br />id: 8<br />year: 2013<br />value:      21.000","id: 8<br />id: 8<br />year: 2014<br />value:      21.000","id: 8<br />id: 8<br />year: 2015<br />value:      24.000","id: 8<br />id: 8<br />year: 2016<br />value:      22.000","id: 8<br />id: 8<br />year: 2017<br />value:      17.000","id: 8<br />id: 8<br />year: 2018<br />value:      19.000"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(255,97,204,1)","dash":"solid"},"hoveron":"points","name":"8","legendgroup":"8","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"x":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"y":[64934.3599999989,72322.3599999989,73190.5199999988,73677.7799999988,74111.8599999988,74167.1999999988,74167.1999999988,74167.1999999988,74167.1999999988,74167.1999999988,73516.079999999,74541.619999999,75296.9399999991,67387.9399999994,59195.7599999995,48629.1,38013.5800000001,21223.22,13779.88],"text":["id: 8<br />id: 8<br />year: 2000<br />value:   64934.360","id: 8<br />id: 8<br />year: 2001<br />value:   72322.360","id: 8<br />id: 8<br />year: 2002<br />value:   73190.520","id: 8<br />id: 8<br />year: 2003<br />value:   73677.780","id: 8<br />id: 8<br />year: 2004<br />value:   74111.860","id: 8<br />id: 8<br />year: 2005<br />value:   74167.200","id: 8<br />id: 8<br />year: 2006<br />value:   74167.200","id: 8<br />id: 8<br />year: 2007<br />value:   74167.200","id: 8<br />id: 8<br />year: 2008<br />value:   74167.200","id: 8<br />id: 8<br />year: 2009<br />value:   74167.200","id: 8<br />id: 8<br />year: 2010<br />value:   73516.080","id: 8<br />id: 8<br />year: 2011<br />value:   74541.620","id: 8<br />id: 8<br />year: 2012<br />value:   75296.940","id: 8<br />id: 8<br />year: 2013<br />value:   67387.940","id: 8<br />id: 8<br />year: 2014<br />value:   59195.760","id: 8<br />id: 8<br />year: 2015<br />value:   48629.100","id: 8<br />id: 8<br />year: 2016<br />value:   38013.580","id: 8<br />id: 8<br />year: 2017<br />value:   21223.220","id: 8<br />id: 8<br />year: 2018<br />value:   13779.880"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(255,97,204,1)","dash":"solid"},"hoveron":"points","name":"8","legendgroup":"8","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":39.5141341357194,"r":7.30593607305936,"b":43.8206114567417,"l":66.4840182648402},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xaxis":{"domain":[0,0.307501630789302],"automargin":true,"type":"linear","autorange":false,"range":[0.4,19.6],"tickmode":"array","ticktext":["2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"categoryorder":"array","categoryarray":["2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-45,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"annotations":[{"text":"year","x":0.5,"y":-0.0214075482354259,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis"},{"text":"value","x":-0.0277886497064579,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis"},{"text":"mean.patch.area","x":0.153750815394651,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"n.patches","x":0.5,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"total.edge","x":0.846249184605349,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"","size":11.689497716895},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"id","x":1.02,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"bottom","legendTitle":true}],"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-83507.4978734741,1851607.04490552],"tickmode":"array","ticktext":["0","500000","1000000","1500000"],"tickvals":[0,500000,1000000,1500000],"categoryorder":"array","categoryarray":["0","500000","1000000","1500000"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.307501630789302,"y0":0,"y1":1},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.307501630789302,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.359165035877365,"x1":0.640834964122635,"y0":0,"y1":1},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.359165035877365,"x1":0.640834964122635,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.692498369210698,"x1":1,"y0":0,"y1":1},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.692498369210698,"x1":1,"y0":0,"y1":23.37899543379,"yanchor":1,"ysizemode":"pixel"}],"xaxis2":{"type":"linear","autorange":false,"range":[0.4,19.6],"tickmode":"array","ticktext":["2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"categoryorder":"array","categoryarray":["2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-45,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.359165035877365,0.640834964122635],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y2","title":"","hoverformat":".2f"},"yaxis2":{"type":"linear","autorange":false,"range":[-1.9,39.9],"tickmode":"array","ticktext":["0","10","20","30"],"tickvals":[0,10,20,30],"categoryorder":"array","categoryarray":["0","10","20","30"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,1],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x2","title":"","hoverformat":".2f"},"xaxis3":{"type":"linear","autorange":false,"range":[0.4,19.6],"tickmode":"array","ticktext":["2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],"categoryorder":"array","categoryarray":["2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-45,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.692498369210698,1],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y3","title":"","hoverformat":".2f"},"yaxis3":{"type":"linear","autorange":false,"range":[-4666.53499999998,97997.2349999997],"tickmode":"array","ticktext":["0","25000","50000","75000"],"tickvals":[0,25000,50000,75000],"categoryorder":"array","categoryarray":["0","25000","50000","75000"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,1],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x3","title":"","hoverformat":".2f"},"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"y":0.96395248281826},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"108ce3e562744":{"colour":{},"x":{},"y":{},"type":"scatter"}},"cur_data":"108ce3e562744","visdat":{"108ce3e562744":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><p>As we can observe from the plot above, the average patch area is significantly reduced over the years. This is an indicator that the landscape which consisted of a few very large patches became more and more patchy with smaller average areas. This is also observed in the second parameter, the total number of patches. Up until the year 2015 or so, the number of patches increases in almost all polygons from below 10 up to 20 or even above 30. However, the number of patches decreases during the last years which might point towards the complete disappearance of some forest patches towards the end of the observation period. The total length of edges shows a very similar pattern with a steep increase during the first years but an even steeper decrease towards the end of the time series. This too, indicates that a high number of forest patches are completely disappearing.</p>
<p>With this we have demonstrated the calculation and interpretation of some of fragmentation parameters on a polygons basis. Which parameters are important for a certain question, however, remains to be discussed in a specific project context.</p>
</div>
<div id="spatial-visualization" class="section level2">
<h2 class="hasAnchor">
<a href="#spatial-visualization" class="anchor"></a>Spatial Visualization</h2>
<p>As you might have already guessed, the data we obtain by this calculation is hardly suitable for a representation on a map. Of course we could visualize some of the parameters by using a cholorphlet map-style like this:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">tmap_mode</span><span class="op">(</span><span class="st">"view"</span><span class="op">)</span>

<span class="fu">tm_basemap</span><span class="op">(</span><span class="st">"OpenStreetMap"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">tm_shape</span><span class="op">(</span><span class="va">frag_statistics</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">tm_polygons</span><span class="op">(</span><span class="st">"total.core.area_y2000"</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-3c79144c3f00a2a985dd" style="width:700px;height:432.632880098888px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-3c79144c3f00a2a985dd">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"createMapPane","args":["tmap401",401]},{"method":"addProviderTiles","args":["OpenStreetMap",null,"OpenStreetMap",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addPolygons","args":[[[[{"lng":[107.129301426449,107.13790264164,107.138429246651,107.129125891445,107.129301426449],"lat":[16.6734341659736,16.673938725199,16.6667067096353,16.6667067096353,16.6734341659736]}]],[[{"lng":[107.150716696923,107.167568057296,107.172834107413,107.171605362385,107.161248797156,107.152472046962,107.150716696923],"lat":[16.6500562551978,16.6524108649162,16.6495516959724,16.6396286978734,16.6344149192111,16.6401332570987,16.6500562551978]}]],[[{"lng":[107.226898888609,107.242697038959,107.250245044126,107.244803459005,107.232516008733,107.226372283597,107.22602121359,107.226898888609],"lat":[16.6789843174528,16.6776388261851,16.6693976921706,16.6626702358322,16.6625020494238,16.6643520999168,16.6725932339313,16.6789843174528]}]],[[{"lng":[107.166339312269,107.185999232704,107.186876907723,107.186174767708,107.17634480749,107.165637172253,107.165988242261,107.166339312269],"lat":[16.6914301116787,16.6915982980872,16.684198096115,16.6747796572413,16.673938725199,16.6764615213259,16.6818434863966,16.6914301116787]}]],[[{"lng":[107.22602121359,107.232164938726,107.236553313823,107.236377778819,107.236904383831,107.234973498788,107.227074423613,107.224616933559,107.222159443504,107.220228558461,107.2219839085,107.22602121359],"lat":[16.6448424765356,16.6547654746347,16.6507290008317,16.6438333580848,16.6371059017465,16.6281920220981,16.6258374123797,16.628864767732,16.6323966823096,16.6371059017465,16.640974189141,16.6448424765356]}]],[[{"lng":[107.198988822991,107.204079338104,107.206536828159,107.204430408112,107.196355797933,107.190914212813,107.18898332777,107.192318492844,107.198988822991],"lat":[16.6584655756208,16.6569518979446,16.6487107639301,16.6403014435072,16.6342467328027,16.6389559522395,16.6460197813948,16.6520744920993,16.6584655756208]}]],[[{"lng":[107.22514353857,107.238133128858,107.239010803877,107.233218148749,107.224265863551,107.221106233481,107.2219839085,107.22514353857],"lat":[16.618605396816,16.6147371094214,16.6029640608293,16.5974139093501,16.5992639598432,16.6066641618154,16.6130552453368,16.618605396816]}]],[[{"lng":[107.184770487677,107.204957013124,107.204430408112,107.193898307879,107.184419417669,107.184770487677],"lat":[16.6275192764643,16.6256692259713,16.6068323482238,16.6046459249139,16.6127188725199,16.6275192764643]}]]],["X1","X2","X3","X4","X5","X6","X7","X8"],"frag_statistics",{"interactive":true,"className":"","pane":"tmap401","stroke":true,"color":"#666666","weight":1,"opacity":1,"fill":true,"fillColor":["#FFF8C4","#EA6E13","#FEDE86","#EA6E13","#B74202","#FEAA38","#FEDE86","#FEDE86"],"fillOpacity":[1,1,1,1,1,1,1,1],"dashArray":"none","smoothFactor":1,"noClip":false},["<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>1<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>total.core.area_y2000<\/nobr><\/td><td align=\"right\"><nobr>681,109<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>2<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>total.core.area_y2000<\/nobr><\/td><td align=\"right\"><nobr>3,224,943<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>3<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>total.core.area_y2000<\/nobr><\/td><td align=\"right\"><nobr>1,043,185<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>4<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>total.core.area_y2000<\/nobr><\/td><td align=\"right\"><nobr>3,190,934<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>5<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>total.core.area_y2000<\/nobr><\/td><td align=\"right\"><nobr>4,231,284<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>6<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>total.core.area_y2000<\/nobr><\/td><td align=\"right\"><nobr>2,989,681<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>7<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>total.core.area_y2000<\/nobr><\/td><td align=\"right\"><nobr>1,393,829<\/nobr><\/td><\/tr><\/table><\/div>","<style> div.leaflet-popup-content {width:auto !important;overflow-y:auto; overflow-x:hidden;}<\/style><div style=\"max-height:25em;padding-right:0px;\"><table>\n\t\t\t   <thead><tr><th colspan=\"2\"><b>8<\/b><\/th><\/thead><\/tr><tr><td style=\"color: #888888;\"><nobr>total.core.area_y2000<\/nobr><\/td><td align=\"right\"><nobr>1,497,667<\/nobr><\/td><\/tr><\/table><\/div>"],null,["1","2","3","4","5","6","7","8"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#FFF8C4","#FEDE86","#FEAA38","#EA6E13","#B74202"],"labels":["0 mln to 1 mln","1 mln to 2 mln","2 mln to 3 mln","3 mln to 4 mln","4 mln to 5 mln"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"unknown","title":"total.core.area_y2000","extra":null,"layerId":"legend401","className":"info legend","group":"frag_statistics"}]},{"method":"addLayersControl","args":[[],"frag_statistics",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]}],"limits":{"lat":[16.5974139093501,16.6915982980872],"lng":[107.129125891445,107.250245044126]},"fitBounds":[16.5974139093501,107.129125891445,16.6915982980872,107.250245044126,[]]},"evals":[],"jsHooks":[]}</script><p>However, we have a very high number of variables and the spatial information on the variables is not very explicit in a map representation like above. For that reason, we developed an additional workflow which allows you to display the fragmentation statistics in a raster. Of course, this does not come for free but it is associated with several disadvantages and simplifications which are going to discuss now.</p>
<p>The idea behind the visualization as a raster is to treat different zones of the raster as polygons for which to retrieve the fragmentation statistics. When we align theses zones in an ordered fashion we actually create a new raster with a coarser resolution than the original one. The values in the new raster actually represent what is going on in the corresponding cells of the original raster. However, the values will vary based on the decision how we align these zones and how big they are, meaning which resolution we choose for the new raster.</p>
<p>Let us start by creating a regular spaced grid for our study area. Because we will have to specify a resolution for our new raster set it might be a good idea to project our data first to a metric CRS. We are based in Vietnam, so UTM zone 48N seems reasonable.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">utm</span> <span class="op">=</span> <span class="st">"+proj=utm +zone=48 +ellps=WGS84 +datum=WGS84 +units=m +no_defs"</span>
<span class="va">treeCover_proj</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/projectRaster.html">projectRaster</a></span><span class="op">(</span><span class="va">treeCover_yearly</span>, crs <span class="op">=</span> <span class="fu">CRS</span><span class="op">(</span><span class="va">utm</span><span class="op">)</span>, method <span class="op">=</span> <span class="st">"ngb"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/raster/man/resolution.html">res</a></span><span class="op">(</span><span class="va">treeCover_proj</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 26.7 27.7</code></pre>
<p>This shows us, that after projecting our raster dataset we have a resolution of 26.7 meters in the x direction and a resolution of 27.7 meters in the y direction. Now, we need a grid which`s cell sizes aggregates our original raster by a certain factor. Currently one pixel comprises an read of 740 m². Let us say, we want to aggregate our raster by a factor of 200, that means that our target cells should cover an area of 14.79 ha. We will use that number to calculate how many cells of the original resolution are needed to get one target cell, which is simply put the square root of the aggregation factor. From there, we can calculate how many columns and rows we would get when we simply aggregated the original cells to the coarser resolution. We finally create a matrix by multiplying the number of cells of our original resolution within one unit of our target resolution with the number of columns and rows of our desired target resolution.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">agg_factor</span> <span class="op">=</span> <span class="fl">200</span>
<span class="va">n_cells</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html">sqrt</a></span><span class="op">(</span><span class="va">agg_factor</span><span class="op">)</span><span class="op">)</span>
<span class="va">ncols</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">ceiling</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/ncell.html">ncol</a></span><span class="op">(</span><span class="va">treeCover_proj</span><span class="op">)</span> <span class="op">/</span> <span class="va">n_cells</span><span class="op">)</span>
<span class="va">nrows</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">ceiling</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/ncell.html">nrow</a></span><span class="op">(</span><span class="va">treeCover_proj</span><span class="op">)</span> <span class="op">/</span> <span class="va">n_cells</span><span class="op">)</span>
<span class="va">m</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span>nrow <span class="op">=</span> <span class="va">n_cells</span> <span class="op">*</span> <span class="va">nrows</span>, ncol <span class="op">=</span> <span class="va">n_cells</span> <span class="op">*</span> <span class="va">ncols</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Dimension of our target matrix is: "</span>, <span class="fu"><a href="https://rdrr.io/pkg/raster/man/dimensions.html">dim</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## Dimension of our target matrix is:  476 658</code></pre>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Dimension of our original raster is: "</span>, <span class="fu"><a href="https://rdrr.io/pkg/raster/man/dimensions.html">dim</a></span><span class="op">(</span><span class="va">treeCover_proj</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## Dimension of our original raster is:  469 658 19</code></pre>
<p>We can see that our target matrix is slightly bigger than our original raster. This is because we used the <code><a href="https://rdrr.io/r/base/Round.html">round()</a></code> and <code><a href="https://rdrr.io/r/base/Round.html">ceiling()</a></code> function to obtain even numbers which are needed to create a matrix. We will now fill our created matrix in a nested for loop, assigning the same values to cells which comprise one cell in our target resolution. What we need for this is simply the variable <code>n_cells</code> representing the square root of our aggregation factor.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">ncols</span><span class="op">)</span><span class="op">{</span>
  <span class="kw">for</span> <span class="op">(</span><span class="va">j</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">nrows</span><span class="op">)</span><span class="op">{</span>
    <span class="va">m</span><span class="op">[</span><span class="op">(</span><span class="va">n_cells</span><span class="op">*</span><span class="va">j</span> <span class="op">-</span> <span class="va">n_cells</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span> <span class="op">:</span> <span class="op">(</span><span class="op">(</span><span class="va">n_cells</span><span class="op">*</span><span class="op">(</span><span class="va">j</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span> <span class="op">-</span> <span class="va">n_cells</span><span class="op">)</span><span class="op">)</span> , <span class="op">(</span><span class="va">n_cells</span><span class="op">*</span><span class="va">i</span> <span class="op">-</span> <span class="va">n_cells</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span> <span class="op">:</span> <span class="op">(</span><span class="va">n_cells</span><span class="op">*</span><span class="op">(</span><span class="va">i</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span> <span class="op">-</span> <span class="va">n_cells</span><span class="op">)</span><span class="op">]</span> <span class="op">=</span> <span class="fl">1</span> <span class="op">*</span> <span class="va">i</span> <span class="op">*</span> <span class="va">j</span>
  <span class="op">}</span>
<span class="op">}</span></code></pre></div>
<p>Now we have got a matrix which resembles our original raster and assigning a common value to all cells which comprise one cell in our target resolutions. These are the zones we are going to calculate the fragmentation indicators for. There remains one small problem, however, which is that our target matrix currently is slightly larger than our original raster. To account for this, we will simply delete the rows and columns which are to many evenely on all sights fo the matrix. However, that means that we reduce the size of the zones on the edges of the matrix compared to the inner zones. This makes the outer zones incomparable to the inner ones. In practice, this means that we should always calculate the indicators with a raster slightly bigger than our area of interest and crop it in the end.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">diff_nrow</span> <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/pkg/raster/man/ncell.html">nrow</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/ncell.html">nrow</a></span><span class="op">(</span><span class="va">treeCover_proj</span><span class="op">)</span>
<span class="va">diff_ncol</span> <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/pkg/raster/man/ncell.html">ncol</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/ncell.html">ncol</a></span><span class="op">(</span><span class="va">treeCover_proj</span><span class="op">)</span>
<span class="va">m</span> <span class="op">=</span> <span class="va">m</span><span class="op">[</span><span class="op">(</span><span class="op">(</span><span class="op">(</span><span class="va">diff_nrow</span> <span class="op">/</span> <span class="fl">2</span><span class="op">)</span> <span class="op">)</span> <span class="op">+</span><span class="fl">1</span><span class="op">)</span><span class="op">:</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/ncell.html">nrow</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span> <span class="op">-</span> <span class="op">(</span><span class="va">diff_nrow</span> <span class="op">/</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span> , <span class="op">(</span><span class="op">(</span><span class="va">diff_ncol</span> <span class="op">/</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span><span class="fl">1</span><span class="op">)</span><span class="op">:</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/ncell.html">ncol</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span> <span class="op">-</span> <span class="op">(</span><span class="va">diff_ncol</span> <span class="op">/</span> <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">]</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Dimension of our target matrix is: "</span>, <span class="fu"><a href="https://rdrr.io/pkg/raster/man/dimensions.html">dim</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## Dimension of our target matrix is:  469 658</code></pre>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Dimension of our original raster is: "</span>, <span class="fu"><a href="https://rdrr.io/pkg/raster/man/dimensions.html">dim</a></span><span class="op">(</span><span class="va">treeCover_proj</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>## Dimension of our original raster is:  469 658 19</code></pre>
<p>Now, we got a matrix which exactly resembles our original raster and the values in the matrix indicate the zones of our target resolution. What we need now, is to transform this information to an sf-object to be able to calculate the fragmentation statistics as we know it. For this to work, we first have to transform our matrix to a raster. In addition to the <code>raster</code> package we will use some functions from <code>stars</code> and <code>sf</code>, as these work more efficiently when polygonizing raster values.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">grid</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/raster.html">raster</a></span><span class="op">(</span><span class="va">m</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/raster/man/projection.html">crs</a></span><span class="op">(</span><span class="va">grid</span><span class="op">)</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/projection.html">crs</a></span><span class="op">(</span><span class="va">treeCover_proj</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/raster/man/extent.html">extent</a></span><span class="op">(</span><span class="va">grid</span><span class="op">)</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/extent.html">extent</a></span><span class="op">(</span><span class="va">treeCover_proj</span><span class="op">)</span>
<span class="va">grid_stars</span> <span class="op">=</span> <span class="fu">stars</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/stars/reference/st_as_stars.html">st_as_stars</a></span><span class="op">(</span><span class="va">grid</span><span class="op">)</span>
<span class="va">polys</span> <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html">st_as_sf</a></span><span class="op">(</span><span class="va">grid_stars</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, as_points <span class="op">=</span> <span class="cn">FALSE</span>, merge <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>
<span class="va">polys</span><span class="op">$</span><span class="va">id</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/ncell.html">nrow</a></span><span class="op">(</span><span class="va">polys</span><span class="op">)</span>
<span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span><span class="va">polys</span><span class="op">[</span><span class="st">"id"</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<p><img src="frag_stats_files/figure-html/unnamed-chunk-8-1.png" width="700"> We will now calculate the fragmentation statistics for each of these polygons just in the same way as we saw it before. Because this command is executed each time the markdown is rendered we will try to speed up the computation time by only calculating one indicator for only one of the layers in the <code>treeCover_proj</code> object.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">grid_fragstats</span> <span class="op">=</span> <span class="fu"><a href="../reference/FragStatsCalc.html">FragStatsCalc</a></span><span class="op">(</span>inputRasterFiles <span class="op">=</span> <span class="va">treeCover_proj</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>,
                               latlon <span class="op">=</span> <span class="cn">F</span>,
                               polyName <span class="op">=</span> <span class="st">"id"</span>,
                               studysite <span class="op">=</span> <span class="va">polys</span>,
                               FragStats <span class="op">=</span> <span class="st">"patch.density"</span>,
                               ncores <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>
<span class="va">results</span> <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html">st_drop_geometry</a></span><span class="op">(</span><span class="va">grid_fragstats</span><span class="op">)</span>
<span class="va">result_raster</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/raster.html">raster</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">results</span><span class="op">$</span><span class="va">patch.density_V1</span>, ncol <span class="op">=</span> <span class="va">ncols</span>, nrow <span class="op">=</span> <span class="va">nrows</span><span class="op">)</span><span class="op">)</span>
<span class="va">result_raster</span><span class="op">[</span><span class="op">]</span> <span class="op">=</span> <span class="cn">NA</span>
<span class="fu"><a href="https://rdrr.io/pkg/raster/man/projection.html">crs</a></span><span class="op">(</span><span class="va">result_raster</span><span class="op">)</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/projection.html">crs</a></span><span class="op">(</span><span class="va">treeCover_proj</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/raster/man/extent.html">extent</a></span><span class="op">(</span><span class="va">result_raster</span><span class="op">)</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/extent.html">extent</a></span><span class="op">(</span><span class="va">treeCover_proj</span><span class="op">)</span>
<span class="va">result_raster</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/setValues.html">setValues</a></span><span class="op">(</span><span class="va">result_raster</span>, <span class="fu"><a href="https://rdrr.io/pkg/raster/man/as.matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">patch.density_V1</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span><span class="va">result_raster</span><span class="op">)</span></code></pre></div>
<p><img src="frag_stats_files/figure-html/gridded_stats-1.png" width="700"></p>
<p>Now, all that is left is to crop the raster to a smaller extent in order to get rid of the cells on the edge which do not have meaningful values.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">bbox</span> <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sfc.html">st_as_sfc</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_bbox.html">st_bbox</a></span><span class="op">(</span><span class="va">result_raster</span><span class="op">)</span><span class="op">)</span>
<span class="va">bbox_buffer</span> <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_unary.html">st_buffer</a></span><span class="op">(</span><span class="va">bbox</span>, dist <span class="op">=</span> <span class="op">-</span><span class="fl">500</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Uncropped raster with buffered extent"</span><span class="op">)</span></code></pre></div>
<pre><code>## Uncropped raster with buffered extent</code></pre>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span><span class="va">result_raster</span><span class="op">)</span>
<span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span><span class="va">bbox_buffer</span>, add <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></code></pre></div>
<p><img src="frag_stats_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">results_cropped</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/crop.html">crop</a></span><span class="op">(</span><span class="va">result_raster</span>, <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html">st_as_sf</a></span><span class="op">(</span><span class="va">bbox_buffer</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="st">"Cropped raster"</span><span class="op">)</span></code></pre></div>
<pre><code>## Cropped raster</code></pre>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html">plot</a></span><span class="op">(</span><span class="va">results_cropped</span><span class="op">)</span></code></pre></div>
<p><img src="frag_stats_files/figure-html/unnamed-chunk-9-2.png" width="700"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by KfW Bankengruppe, Darius Görgen, Fabian Löw.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
